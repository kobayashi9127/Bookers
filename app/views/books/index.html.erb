<h1>Books</h1>
<table>
  <thead>
    <tr>
      <th>Title</th>
      <th>Body</th>
      <th colspan="3"></th>
    </tr>
  </thead>
  
  <% @books.each do |book| %>
    <tr>
      <td><%= book.title %></td>
      <td><%= book.body %></td>
      <td><%= link_to 'Show', book_path(book) %></td>
      <td><%= link_to 'Edit', edit_book_path(book)%></td>
      <td><%= link_to 'Destroy', book_path(book), method: :delete, "data-confirm" => "Are you sure?" %>
      </td>
    </tr>
  <% end %>
</table>

<h2>New book</h2>
<%= form_with scope: :book, local:true do |f| %>

<h4>Title</h4>
<% if @book.errors.any? %>
  <%= @book.errors.count %>件のエラーが発生しました
  <% @book.errors.full_messages.each do |message| %>
    <%= message %>
  <% end %>
<% end %>
  <div class><%= f.text_field :title %></div>
  <h4>Body</h4>
  <div class><%= f.text_area :body %></div>
  <p>
  <%= f.submit 'Create Book' %>
  </p>
  
<% end %>

 